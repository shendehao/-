# åº“å­˜ç®¡ç†ç³»ç»Ÿ - å®Œæ•´æ–‡æ¡£

æœ¬æ–‡æ¡£æ•´åˆäº†é¡¹ç›®çš„æ‰€æœ‰é‡è¦ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¿«é€Ÿå¼€å§‹ã€ä½¿ç”¨æŒ‡å—ã€å¼€å‘æ–‡æ¡£ã€APIæ–‡æ¡£ç­‰ã€‚

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
3. [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
4. [APIæ–‡æ¡£](#apiæ–‡æ¡£)
5. [åç«¯å¼€å‘æ–‡æ¡£](#åç«¯å¼€å‘æ–‡æ¡£)
6. [å‰ç«¯ä½¿ç”¨è¯´æ˜](#å‰ç«¯ä½¿ç”¨è¯´æ˜)
7. [éƒ¨ç½²è¯´æ˜](#éƒ¨ç½²è¯´æ˜)
8. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
9. [é¡¹ç›®æ€»ç»“](#é¡¹ç›®æ€»ç»“)

---

## é¡¹ç›®æ¦‚è¿°

### æŠ€æœ¯æ ˆ

**åç«¯**
- Django 4.2 + Django REST Framework
- JWT Tokenè®¤è¯
- SQLite (å¼€å‘) / PostgreSQL (ç”Ÿäº§)
- Redisç¼“å­˜
- Docker + Gunicorn + Nginx

**å‰ç«¯**
- HTML + TailwindCSS + JavaScript
- EChartså›¾è¡¨
- Appleé£æ ¼UIè®¾è®¡

### åŠŸèƒ½ç‰¹æ€§

- âœ… ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- âœ… ç‰©å“ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- âœ… å‡ºå…¥åº“ç®¡ç†
- âœ… åº“å­˜è°ƒæ‹¨
- âœ… ä½åº“å­˜é¢„è­¦
- âœ… æ•°æ®ç»Ÿè®¡å’Œå¯è§†åŒ–
- âœ… ä¾›åº”å•†ç®¡ç†
- âœ… ä»“åº“ç®¡ç†
- âœ… æŠ¥è¡¨å¯¼å‡º

---

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# åŒå‡»è¿è¡Œ
start.bat
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
venv\Scripts\activate

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. æ•°æ®åº“è¿ç§»
python manage.py makemigrations
python manage.py migrate

# 4. åˆ›å»ºè¶…çº§ç”¨æˆ·
python manage.py createsuperuser

# 5. å¯åŠ¨æœåŠ¡å™¨
python manage.py runserver
```

### è®¿é—®åœ°å€

| åŠŸèƒ½ | URL |
|------|-----|
| å‰ç«¯ç•Œé¢ | http://localhost:8000/ |
| APIæ–‡æ¡£ | http://localhost:8000/swagger/ |
| ç®¡ç†åå° | http://localhost:8000/admin/ |

### æµ‹è¯•è´¦å·

| è§’è‰² | ç”¨æˆ·å | å¯†ç  |
|------|--------|------|
| è¶…çº§ç®¡ç†å‘˜ | admin | admin123 |
| ä»“åº“ç®¡ç†å‘˜ | manager1 | manager123 |
| æ“ä½œå‘˜ | operator1 | operator123 |

---

## ä½¿ç”¨æŒ‡å—

### å¯åŠ¨ç³»ç»Ÿ

1. è¿è¡Œ `start.bat` è‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®
2. è®¿é—® http://localhost:8000/
3. ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•

### ä¸»è¦åŠŸèƒ½

#### ä»ªè¡¨ç›˜
- æŸ¥çœ‹åº“å­˜ç»Ÿè®¡æ•°æ®
- æŸ¥çœ‹åº“å­˜è¶‹åŠ¿å›¾è¡¨
- æŸ¥çœ‹ç±»åˆ«åˆ†å¸ƒ
- æŸ¥çœ‹æœ€è¿‘æ´»åŠ¨
- æŸ¥çœ‹ä½åº“å­˜é¢„è­¦

#### åº“å­˜ç‰©å“
- ç‰©å“åˆ—è¡¨ç®¡ç†
- æœç´¢å’Œç­›é€‰
- æ·»åŠ /ç¼–è¾‘/åˆ é™¤ç‰©å“
- åº“å­˜é¢„è­¦æç¤º

#### å‡ºå…¥åº“ç®¡ç†
- å…¥åº“æ“ä½œ
- å‡ºåº“æ“ä½œ
- æ“ä½œè®°å½•æŸ¥è¯¢
- ç»Ÿè®¡æŠ¥è¡¨

#### ä¾›åº”å•†ç®¡ç†
- ä¾›åº”å•†ä¿¡æ¯ç®¡ç†
- è”ç³»æ–¹å¼ç»´æŠ¤

#### ä»“åº“ç®¡ç†
- ä»“åº“ä¿¡æ¯ç®¡ç†
- ä½¿ç”¨ç‡ç»Ÿè®¡

---

## APIæ–‡æ¡£

### è®¤è¯æ¥å£

#### ç”¨æˆ·ç™»å½•
```
POST /api/auth/login/
{
  "username": "admin",
  "password": "admin123"
}
```

#### è·å–ç”¨æˆ·ä¿¡æ¯
```
GET /api/auth/profile/
Headers: Authorization: Bearer {token}
```

### åº“å­˜ç‰©å“API

#### è·å–ç‰©å“åˆ—è¡¨
```
GET /api/inventory/items/?page=1&page_size=20&search=é¼ æ ‡
```

#### åˆ›å»ºç‰©å“
```
POST /api/inventory/items/
{
  "name": "æ— çº¿é¼ æ ‡",
  "code": "WM-200",
  "category": 1,
  "warehouse": 1,
  "price": "89.00",
  "stock": 150,
  "min_stock": 20
}
```

#### è·å–ä½åº“å­˜ç‰©å“
```
GET /api/inventory/items/low_stock/
```

### å‡ºå…¥åº“æ“ä½œAPI

#### å…¥åº“æ“ä½œ
```
POST /api/operations/inbound/
{
  "item": 1,
  "quantity": 50,
  "supplier": 1,
  "notes": "é‡‡è´­å…¥åº“"
}
```

#### å‡ºåº“æ“ä½œ
```
POST /api/operations/outbound/
{
  "item": 1,
  "quantity": 10,
  "recipient": "å¼ ä¸‰",
  "department": "æŠ€æœ¯éƒ¨",
  "purpose": "åŠå…¬ä½¿ç”¨"
}
```

### ä»ªè¡¨ç›˜API

#### è·å–æ¦‚è§ˆæ•°æ®
```
GET /api/dashboard/overview/
```

#### è·å–å›¾è¡¨æ•°æ®
```
GET /api/dashboard/charts/?days=7
```

#### è·å–æœ€è¿‘æ´»åŠ¨
```
GET /api/dashboard/activities/?limit=10
```

### ç»Ÿä¸€å“åº”æ ¼å¼

**æˆåŠŸå“åº”ï¼š**
```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": { ... }
}
```

**é”™è¯¯å“åº”ï¼š**
```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "é”™è¯¯ä¿¡æ¯",
    "details": { ... }
  }
}
```

---

## åç«¯å¼€å‘æ–‡æ¡£

### é¡¹ç›®ç»“æ„

```
åº“å­˜ç®¡ç†ç³»ç»Ÿ/
â”œâ”€â”€ apps/                    # åº”ç”¨æ¨¡å—
â”‚   â”œâ”€â”€ authentication/      # ç”¨æˆ·è®¤è¯
â”‚   â”œâ”€â”€ inventory/           # åº“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ operations/          # å‡ºå…¥åº“æ“ä½œ
â”‚   â”œâ”€â”€ dashboard/           # ä»ªè¡¨ç›˜
â”‚   â”œâ”€â”€ suppliers/           # ä¾›åº”å•†
â”‚   â””â”€â”€ warehouses/          # ä»“åº“
â”œâ”€â”€ common/                   # å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ responses.py         # ç»Ÿä¸€å“åº”
â”‚   â”œâ”€â”€ pagination.py        # åˆ†é¡µ
â”‚   â””â”€â”€ exceptions.py        # å¼‚å¸¸å¤„ç†
â”œâ”€â”€ config/                  # é¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ settings.py         # Djangoè®¾ç½®
â”‚   â””â”€â”€ urls.py             # ä¸»è·¯ç”±
â””â”€â”€ templates/               # å‰ç«¯æ¨¡æ¿
```

### æ ¸å¿ƒæ¨¡å‹

#### User (ç”¨æˆ·)
- username, email, password
- role (admin/manager/operator)
- phone, avatar, department

#### Item (ç‰©å“)
- name, code, barcode
- category, supplier, warehouse
- price, stock, min_stock
- status (normal/low_stock/out_of_stock)

#### InventoryOperation (æ“ä½œè®°å½•)
- item, operation_type (in/out/transfer)
- quantity, before_stock, after_stock
- operator, created_at

### å¼€å‘è§„èŒƒ

1. **ç»Ÿä¸€å“åº”æ ¼å¼** - ä½¿ç”¨ `APIResponse.success()` å’Œ `APIResponse.error()`
2. **åˆ†é¡µ** - ä½¿ç”¨ `StandardPagination`
3. **æƒé™æ§åˆ¶** - ä½¿ç”¨ `IsAuthenticated` å’Œè‡ªå®šä¹‰æƒé™ç±»
4. **å¼‚å¸¸å¤„ç†** - ä½¿ç”¨ `custom_exception_handler`

---

## å‰ç«¯ä½¿ç”¨è¯´æ˜

### é¡µé¢ç»“æ„

ç³»ç»ŸåŒ…å«9ä¸ªä¸»è¦é¡µé¢ï¼š
1. ä»ªè¡¨ç›˜ (Dashboard)
2. åº“å­˜ç‰©å“ (Items)
3. å…¥åº“ç®¡ç† (Inbound)
4. å‡ºåº“ç®¡ç† (Outbound)
5. åº“å­˜è°ƒæ‹¨ (Transfer)
6. ä»“åº“ç®¡ç† (Warehouse)
7. ä¾›åº”å•†ç®¡ç† (Supplier)
8. æŠ¥è¡¨åˆ†æ (Reports)
9. ç³»ç»Ÿè®¾ç½® (Settings)

### APIé›†æˆ

#### é…ç½®APIåœ°å€
```javascript
// js/api-config.js
const API_CONFIG = {
  API_BASE_URL: 'http://localhost:8000/api',
  USE_MOCK_DATA: false  // åˆ‡æ¢åˆ°çœŸå®API
};
```

#### ä½¿ç”¨API
```javascript
// è·å–ç‰©å“åˆ—è¡¨
const response = await API.items.list({ page: 1 });

// åˆ›å»ºç‰©å“
await API.items.create(itemData);

// å…¥åº“æ“ä½œ
await API.operations.inbound({
  item: 1,
  quantity: 50,
  supplier: 1
});
```

### æ•°æ®åŠ è½½å‡½æ•°

æ¯ä¸ªé¡µé¢éƒ½æœ‰å¯¹åº”çš„æ•°æ®åŠ è½½å‡½æ•°ï¼š
- `loadItemsPage()` - åŠ è½½ç‰©å“åˆ—è¡¨
- `loadInboundPage()` - åŠ è½½å…¥åº“è®°å½•
- `loadOutboundPage()` - åŠ è½½å‡ºåº“è®°å½•
- `initDashboardCharts()` - åˆå§‹åŒ–ä»ªè¡¨ç›˜å›¾è¡¨

---

## éƒ¨ç½²è¯´æ˜

### Dockeréƒ¨ç½²

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f web

# åœæ­¢æœåŠ¡
docker-compose down
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®

1. ä¿®æ”¹ `.env` æ–‡ä»¶
2. è®¾ç½® `DEBUG=False`
3. é…ç½®æ•°æ®åº“ï¼ˆPostgreSQLï¼‰
4. é…ç½®Redisç¼“å­˜
5. æ”¶é›†é™æ€æ–‡ä»¶ï¼š`python manage.py collectstatic`

---

## å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨
```bash
python manage.py runserver 8080
```

### 2. æ•°æ®åº“è¿æ¥é”™è¯¯
æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®

### 3. CORSè·¨åŸŸé”™è¯¯
åœ¨ `settings.py` ä¸­é…ç½® `CORS_ALLOWED_ORIGINS`

### 4. Tokenè¿‡æœŸ
Tokenä¼šè‡ªåŠ¨åˆ·æ–°ï¼Œå¦‚æœåˆ·æ–°å¤±è´¥ä¼šè·³è½¬ç™»å½•é¡µ

### 5. æ•°æ®ä¸æ˜¾ç¤º
- ç¡®è®¤å·²æ‰§è¡Œ `setup_database.py` ç”Ÿæˆæµ‹è¯•æ•°æ®
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
- ç¡®è®¤APIåœ°å€é…ç½®æ­£ç¡®

---

## é¡¹ç›®æ€»ç»“

### å®ŒæˆçŠ¶æ€ï¼š100% âœ…

**å·²å®ŒæˆåŠŸèƒ½ï¼š**
- âœ… å®Œæ•´çš„åç«¯APIç³»ç»Ÿï¼ˆ50+æ¥å£ï¼‰
- âœ… 6ä¸ªæ ¸å¿ƒæ•°æ®æ¨¡å‹
- âœ… å®Œæ•´çš„å‰ç«¯ç•Œé¢ï¼ˆ9ä¸ªé¡µé¢ï¼‰
- âœ… Dockeréƒ¨ç½²é…ç½®
- âœ… è¯¦ç»†çš„æ–‡æ¡£

**æŠ€æœ¯ç‰¹ç‚¹ï¼š**
- âœ… ä»£ç è§„èŒƒï¼ˆPEP 8ï¼‰
- âœ… æ¶æ„æ¸…æ™°ï¼ˆæ¨¡å—åŒ–è®¾è®¡ï¼‰
- âœ… æ–‡æ¡£å®Œæ•´ï¼ˆ6ä»½è¯¦ç»†æ–‡æ¡£ï¼‰
- âœ… æ˜“äºéƒ¨ç½²ï¼ˆä¸€é”®å¯åŠ¨ï¼‰
- âœ… åŠŸèƒ½å®Œæ•´ï¼ˆè¦†ç›–æ ¸å¿ƒä¸šåŠ¡ï¼‰

**é¡¹ç›®ç»Ÿè®¡ï¼š**
- Pythonæ–‡ä»¶ï¼š40+
- APIæ¥å£ï¼š50+
- å‰ç«¯é¡µé¢ï¼š9ä¸ª
- æ–‡æ¡£æ–‡ä»¶ï¼š10+

---

## ç›¸å…³æ–‡æ¡£

- `README.md` - é¡¹ç›®è¯´æ˜
- `å¿«é€Ÿå¼€å§‹.md` - å¿«é€Ÿå¯åŠ¨æŒ‡å—
- `ä½¿ç”¨æŒ‡å—.md` - å®Œæ•´ä½¿ç”¨è¯´æ˜
- `APIæ–‡æ¡£.md` - APIæ¥å£è§„èŒƒ
- `åç«¯å¼€å‘æ–‡æ¡£.md` - è¯¦ç»†å¼€å‘æŒ‡å—
- `å‰ç«¯ä½¿ç”¨è¯´æ˜.md` - å‰ç«¯æŒ‡å—
- `APIä½¿ç”¨æŒ‡å—.md` - APIå¯¹æ¥æ–‡æ¡£
- `Swaggeræµ‹è¯•æŒ‡å—.md` - APIæµ‹è¯•æŒ‡å—
- `é¡¹ç›®å®Œæˆæ€»ç»“.md` - å®ŒæˆæŠ¥å‘Š

---

**ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2024-12-06  
**æŠ€æœ¯æ”¯æŒ**: æŸ¥çœ‹å„ä¸“é¡¹æ–‡æ¡£è·å–è¯¦ç»†å¸®åŠ©






