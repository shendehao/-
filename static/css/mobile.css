/**
 * 移动端响应式适配样式
 * 针对手机端（< 768px）进行优化
 */

/* ============================================
   基础移动端适配
   ============================================ */

/* 移动端隐藏侧边栏，使用底部导航 */
@media (max-width: 767px) {
    /* 隐藏桌面侧边栏 */
    aside.w-16,
    aside.md\:w-64 {
        display: none !important;
    }

    /* 主内容区域全宽 */
    main.flex-1 {
        width: 100%;
        padding: 12px !important;
        padding-bottom: 80px !important; /* 为底部导航留空间 */
    }

    /* 顶部导航栏优化 */
    header .container {
        padding-left: 12px;
        padding-right: 12px;
    }

    /* 品牌标识缩小 */
    header h1 {
        font-size: 1rem;
    }

    /* 隐藏桌面搜索框 */
    header .hidden.md\:flex {
        display: none !important;
    }

    /* 页面标题区域 */
    .text-2xl {
        font-size: 1.25rem;
    }

    /* 按钮组优化 - 居中显示 */
    .flex.space-x-3 {
        flex-wrap: nowrap;
        justify-content: center !important;
        overflow-x: visible;
        padding-bottom: 4px;
    }

    /* 隐藏导出报告按钮，只显示扫码和添加 */
    #dashboard-export-btn {
        display: none !important;
    }

    /* 仪表盘按钮缩小并居中 */
    #dashboard-page .flex.space-x-3 button {
        flex-shrink: 0;
        padding: 12px 16px;
        font-size: 0.875rem;
        border-radius: 12px !important;
        min-width: 56px;
        min-height: 56px;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }

    #dashboard-page .flex.space-x-3 button span {
        display: none;
    }

    #dashboard-page .flex.space-x-3 button i {
        margin-right: 0;
        font-size: 1.25rem;
    }
    
    /* 仪表盘标题区域居中 */
    #dashboard-page > div:first-child {
        flex-direction: column !important;
        align-items: center !important;
        text-align: center;
    }
    
    #dashboard-page > div:first-child > div:first-child {
        text-align: center;
        margin-bottom: 12px;
    }
    
    /* ============================================
       入库/出库/调拨页面移动端优化
       ============================================ */
    
    /* 页面标题区域 */
    #inbound-page > div:first-child,
    #outbound-page > div:first-child,
    #transfer-page > div:first-child {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 12px !important;
    }
    
    /* 标题文字 */
    #inbound-page h2,
    #outbound-page h2,
    #transfer-page h2 {
        font-size: 1.25rem !important;
    }
    
    #inbound-page p,
    #outbound-page p,
    #transfer-page p {
        font-size: 0.8rem !important;
    }
    
    /* 按钮组 - 横向排列，占满宽度 */
    #inbound-page .flex.space-x-2,
    #outbound-page .flex.space-x-2,
    #transfer-page .flex.space-x-2 {
        display: flex !important;
        width: 100% !important;
        gap: 8px !important;
    }
    
    /* 批量删除按钮 */
    #inbound-batch-delete-btn,
    #outbound-batch-delete-btn,
    #transfer-batch-delete-btn {
        flex: 1 !important;
        padding: 10px 12px !important;
        font-size: 0.8rem !important;
        min-height: 44px !important;
    }
    
    /* 新增按钮 */
    #inbound-add-btn,
    #outbound-add-btn,
    #transfer-add-btn {
        flex: 1 !important;
        padding: 10px 12px !important;
        font-size: 0.8rem !important;
        min-height: 44px !important;
    }
    
    /* 按钮内文字显示 */
    #inbound-page .flex.space-x-2 button span,
    #outbound-page .flex.space-x-2 button span,
    #transfer-page .flex.space-x-2 button span {
        display: inline !important;
    }
    
    /* 按钮图标间距 */
    #inbound-page .flex.space-x-2 button i,
    #outbound-page .flex.space-x-2 button i,
    #transfer-page .flex.space-x-2 button i {
        margin-right: 4px !important;
        font-size: 0.9rem !important;
    }
    
    /* 物品列表页面按钮优化 */
    #items-page > div:first-child {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 12px !important;
    }
    
    #items-page .flex.space-x-3 {
        width: 100% !important;
        justify-content: stretch !important;
    }
    
    #items-page .flex.space-x-3 button {
        flex: 1 !important;
        min-width: auto !important;
        min-height: 44px !important;
        padding: 10px 12px !important;
    }
    
    #items-page .flex.space-x-3 button span {
        display: inline !important;
        font-size: 0.8rem !important;
    }
    
    #items-page .flex.space-x-3 button i {
        margin-right: 4px !important;
        font-size: 0.9rem !important;
    }
}

/* ============================================
   底部导航栏
   ============================================ */
@media (max-width: 767px) {
    #mobile-bottom-nav {
        display: flex !important;
    }
}

#mobile-bottom-nav {
    display: none;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-top: 1px solid #E5E5EA;
    z-index: 100;
    padding: 8px 0;
    padding-bottom: calc(8px + env(safe-area-inset-bottom));
}

#mobile-bottom-nav .nav-items {
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    width: 100%;
    max-width: 100%;
    padding: 0 8px;
}

#mobile-bottom-nav .nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4px 0;
    flex: 1;
    color: #8E8E93;
    text-decoration: none;
    font-size: 10px;
    transition: color 0.2s;
}

#mobile-bottom-nav .nav-item.active {
    color: #007AFF;
}

#mobile-bottom-nav .nav-item i {
    font-size: 20px;
    margin-bottom: 2px;
}

/* ============================================
   统计卡片移动端优化
   ============================================ */
@media (max-width: 767px) {
    /* 统计卡片 2列布局 */
    .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 8px !important;
    }

    /* 卡片内容缩小 */
    .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 > div {
        padding: 12px !important;
    }

    .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 h3 {
        font-size: 1.25rem !important;
    }

    .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 p {
        font-size: 0.75rem !important;
    }

    /* 隐藏卡片图标 */
    .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 .w-12.h-12 {
        width: 32px !important;
        height: 32px !important;
    }

    .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 .w-12.h-12 i {
        font-size: 14px !important;
    }
}

/* ============================================
   图表区域移动端优化
   ============================================ */
@media (max-width: 767px) {
    /* 图表区域单列 */
    .grid.grid-cols-1.lg\:grid-cols-3 {
        grid-template-columns: 1fr !important;
    }

    .lg\:col-span-2 {
        grid-column: span 1 !important;
    }

    /* 图表高度调整 */
    #inventory-trend-chart,
    #category-distribution-chart {
        height: 200px !important;
    }

    /* 图表容器 */
    .grid.grid-cols-1.lg\:grid-cols-3 > div {
        padding: 12px !important;
    }
    
    /* 低库存物品区域简化 */
    #low-stock-items {
        max-height: 200px;
        overflow-y: auto;
    }
    
    #low-stock-items > div {
        padding: 8px !important;
    }
    
    #low-stock-items .w-10 {
        width: 32px !important;
        height: 32px !important;
    }
    
    #low-stock-items .font-medium {
        font-size: 0.8rem !important;
    }
    
    #low-stock-items .text-xs {
        font-size: 0.65rem !important;
    }
}

/* ============================================
   表格移动端优化 - 卡片式布局
   ============================================ */
@media (max-width: 767px) {
    /* 防止页面横向滚动 */
    body, html {
        overflow-x: hidden !important;
        max-width: 100vw !important;
    }
    
    /* 主内容区域防止溢出 */
    main, main.flex-1 {
        overflow-x: hidden !important;
        max-width: 100% !important;
    }
    
    /* 隐藏表格头部 */
    #items-page table thead,
    #inbound-page table thead,
    #outbound-page table thead,
    #transfer-page table thead {
        display: none !important;
    }
    
    /* 表格转为卡片式布局 */
    #items-page table,
    #inbound-page table,
    #outbound-page table,
    #transfer-page table {
        display: block !important;
        width: 100% !important;
    }
    
    #items-page table tbody,
    #inbound-page table tbody,
    #outbound-page table tbody,
    #transfer-page table tbody {
        display: flex !important;
        flex-direction: column !important;
        gap: 12px !important;
    }
    
    /* 每行变成卡片 */
    #items-page table tbody tr,
    #inbound-page table tbody tr,
    #outbound-page table tbody tr,
    #transfer-page table tbody tr {
        display: flex !important;
        flex-wrap: wrap !important;
        background: white !important;
        border-radius: 12px !important;
        padding: 12px !important;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
        border: 1px solid #E5E5EA !important;
        align-items: center !important;
    }
    
    /* 物品列表卡片样式 - 更清晰的布局 */
    #items-page table tbody tr {
        display: block !important;
        padding: 12px !important;
    }
    
    #items-page table tbody tr td {
        padding: 0 !important;
        border: none !important;
        display: block !important;
    }
    
    /* 物品名称和图片 - 第一行 */
    #items-page table tbody tr td:nth-child(1) {
        width: 100% !important;
        margin-bottom: 10px !important;
        padding-bottom: 10px !important;
        border-bottom: 1px solid #E5E5EA !important;
    }
    
    #items-page table tbody tr td:nth-child(1) .flex {
        align-items: center !important;
    }
    
    #items-page table tbody tr td:nth-child(1) .font-medium {
        font-size: 1rem !important;
        font-weight: 600 !important;
    }
    
    /* 隐藏仓库和仓位列 */
    #items-page table tbody tr td:nth-child(3),
    #items-page table tbody tr td:nth-child(4) {
        display: none !important;
    }
    
    /* 信息行容器 - 类别、库存、价格、状态 */
    #items-page table tbody tr td:nth-child(2),
    #items-page table tbody tr td:nth-child(5),
    #items-page table tbody tr td:nth-child(6),
    #items-page table tbody tr td:nth-child(7) {
        display: inline-block !important;
        width: auto !important;
        margin-right: 12px !important;
        margin-bottom: 8px !important;
        font-size: 0.85rem !important;
    }
    
    /* 类别标签 */
    #items-page table tbody tr td:nth-child(2)::before {
        content: "类别: ";
        color: #8E8E93;
        font-size: 0.75rem;
    }
    
    /* 库存数量 - 突出显示 */
    #items-page table tbody tr td:nth-child(5) {
        font-weight: 700 !important;
        color: #007AFF !important;
        background: rgba(0, 122, 255, 0.1) !important;
        padding: 4px 10px !important;
        border-radius: 6px !important;
    }
    
    #items-page table tbody tr td:nth-child(5)::before {
        content: "库存: ";
        color: #007AFF;
        font-size: 0.75rem;
        font-weight: 400;
    }
    
    /* 价格 */
    #items-page table tbody tr td:nth-child(6)::before {
        content: "单价: ";
        color: #8E8E93;
        font-size: 0.75rem;
    }
    
    /* 状态标签 */
    #items-page table tbody tr td:nth-child(7) {
        float: right !important;
        margin-right: 0 !important;
    }
    
    /* 操作按钮 - 底部一行 */
    #items-page table tbody tr td:nth-child(8) {
        display: flex !important;
        width: 100% !important;
        margin-top: 10px !important;
        padding-top: 10px !important;
        border-top: 1px solid #E5E5EA !important;
        justify-content: flex-end !important;
        gap: 8px !important;
        clear: both !important;
    }
    
    #items-page table tbody tr td:nth-child(8) button {
        width: 40px !important;
        height: 40px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        border-radius: 10px !important;
        font-size: 1rem !important;
    }
    
    /* 二维码按钮 */
    #items-page table tbody tr td:nth-child(8) button:first-child {
        background: rgba(52, 199, 89, 0.1) !important;
    }
    
    /* 编辑按钮 */
    #items-page table tbody tr td:nth-child(8) button:nth-child(2) {
        background: rgba(0, 122, 255, 0.1) !important;
    }
    
    /* 删除按钮 */
    #items-page table tbody tr td:nth-child(8) button:last-child {
        background: rgba(255, 59, 48, 0.1) !important;
    }
    
    /* 入库/出库/调拨卡片样式 - 更清晰的布局 */
    #inbound-page table tbody tr,
    #outbound-page table tbody tr,
    #transfer-page table tbody tr {
        display: grid !important;
        grid-template-columns: 30px 1fr 70px 40px !important;
        align-items: center !important;
        gap: 8px !important;
        padding: 14px 12px !important;
    }
    
    #inbound-page table tbody tr td,
    #outbound-page table tbody tr td,
    #transfer-page table tbody tr td {
        padding: 0 !important;
        border: none !important;
    }
    
    /* 复选框 */
    #inbound-page table tbody tr td:nth-child(1),
    #outbound-page table tbody tr td:nth-child(1),
    #transfer-page table tbody tr td:nth-child(1) {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    #inbound-page table tbody tr td:nth-child(1) input,
    #outbound-page table tbody tr td:nth-child(1) input,
    #transfer-page table tbody tr td:nth-child(1) input {
        width: 20px !important;
        height: 20px !important;
    }
    
    /* 物品名称 */
    #inbound-page table tbody tr td:nth-child(2),
    #outbound-page table tbody tr td:nth-child(2),
    #transfer-page table tbody tr td:nth-child(2) {
        font-weight: 600 !important;
        font-size: 0.95rem !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
    }
    
    /* 数量 - 突出显示 */
    #inbound-page table tbody tr td:nth-child(3) {
        text-align: center !important;
        font-weight: 700 !important;
        font-size: 1rem !important;
        color: #34C759 !important;
        background: rgba(52, 199, 89, 0.1) !important;
        padding: 4px 8px !important;
        border-radius: 8px !important;
    }
    
    #outbound-page table tbody tr td:nth-child(3) {
        text-align: center !important;
        font-weight: 700 !important;
        font-size: 1rem !important;
        color: #FF3B30 !important;
        background: rgba(255, 59, 48, 0.1) !important;
        padding: 4px 8px !important;
        border-radius: 8px !important;
    }
    
    #transfer-page table tbody tr td:nth-child(3) {
        text-align: center !important;
        font-weight: 700 !important;
        font-size: 1rem !important;
        color: #007AFF !important;
        background: rgba(0, 122, 255, 0.1) !important;
        padding: 4px 8px !important;
        border-radius: 8px !important;
    }
    
    /* 隐藏其他列（供应商、位置、操作员、时间） */
    #inbound-page table tbody tr td:nth-child(4),
    #inbound-page table tbody tr td:nth-child(5),
    #inbound-page table tbody tr td:nth-child(6),
    #inbound-page table tbody tr td:nth-child(7),
    #outbound-page table tbody tr td:nth-child(4),
    #outbound-page table tbody tr td:nth-child(5),
    #outbound-page table tbody tr td:nth-child(6),
    #outbound-page table tbody tr td:nth-child(7),
    #transfer-page table tbody tr td:nth-child(4),
    #transfer-page table tbody tr td:nth-child(5),
    #transfer-page table tbody tr td:nth-child(6),
    #transfer-page table tbody tr td:nth-child(7) {
        display: none !important;
    }
    
    /* 操作按钮（删除） */
    #inbound-page table tbody tr td:nth-child(8),
    #outbound-page table tbody tr td:nth-child(8),
    #transfer-page table tbody tr td:nth-child(8) {
        display: flex !important;
        justify-content: center !important;
    }
    
    #inbound-page table tbody tr td:nth-child(8) button,
    #outbound-page table tbody tr td:nth-child(8) button,
    #transfer-page table tbody tr td:nth-child(8) button {
        width: 36px !important;
        height: 36px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        background: rgba(255, 59, 48, 0.1) !important;
        border-radius: 8px !important;
    }
    
    /* 仪表盘最近活动表格 - 简化显示 */
    #dashboard-page table thead {
        display: none !important;
    }
    
    #dashboard-page table tbody {
        display: flex !important;
        flex-direction: column !important;
        gap: 8px !important;
    }
    
    #dashboard-page table tbody tr {
        display: flex !important;
        align-items: center !important;
        background: #F5F7FA !important;
        border-radius: 8px !important;
        padding: 8px 12px !important;
    }
    
    #dashboard-page table tbody tr td {
        padding: 0 !important;
        border: none !important;
    }
    
    /* 物品信息 */
    #dashboard-page table tbody tr td:nth-child(1) {
        flex: 1 !important;
    }
    
    /* 类型标签 */
    #dashboard-page table tbody tr td:nth-child(2) {
        margin-right: 8px !important;
    }
    
    /* 数量 */
    #dashboard-page table tbody tr td:nth-child(3) {
        font-weight: 600 !important;
    }
    
    /* 隐藏时间和操作人 */
    #dashboard-page table tbody tr td:nth-child(4),
    #dashboard-page table tbody tr td:nth-child(5) {
        display: none !important;
    }
    
    /* 卡片容器内边距 */
    #inbound-page .bg-white,
    #outbound-page .bg-white,
    #transfer-page .bg-white,
    #items-page .bg-white {
        padding: 12px !important;
    }
    
    /* 表格容器 */
    .overflow-x-auto {
        overflow-x: visible !important;
    }
}

/* ============================================
   模态框移动端优化
   ============================================ */
@media (max-width: 767px) {
    /* 入库/出库/调拨等表单弹窗 - 居中显示，不全屏 */
    #inbound-modal,
    #outbound-modal,
    #transfer-modal,
    #add-item-modal,
    #edit-item-modal {
        padding: 16px;
        align-items: center !important;
    }
    
    #inbound-modal .modal-content,
    #outbound-modal .modal-content,
    #transfer-modal .modal-content,
    #add-item-modal .modal-content,
    #edit-item-modal .modal-content {
        width: 100% !important;
        max-width: 100% !important;
        max-height: calc(100vh - 100px);
        min-height: auto !important;
        margin: 0 !important;
        border-radius: 16px !important;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    /* 模态框内容区域 */
    .modal-content > div,
    [class*="modal"] form {
        padding: 16px !important;
    }

    /* 表单输入框 */
    input[type="text"],
    input[type="number"],
    input[type="email"],
    input[type="password"],
    select,
    textarea {
        font-size: 16px !important; /* 防止iOS缩放 */
        padding: 12px !important;
    }

    /* 表单标签 */
    label {
        font-size: 0.875rem;
    }
}

/* ============================================
   扫码入库全屏页面优化
   ============================================ */

/* 扫描页面全屏样式 - 所有设备 */
#camera-scan-modal {
    display: none;
}

#camera-scan-modal.active {
    display: flex !important;
}

#camera-scan-modal #camera-preview {
    width: 100% !important;
    height: 100% !important;
}

#camera-scan-modal #camera-preview video {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
}

/* html5-qrcode 扫描框样式覆盖 */
#camera-scan-modal #camera-preview #qr-shaded-region {
    border-color: rgba(0, 122, 255, 0.5) !important;
}

/* 移动端扫描页面优化 */
@media (max-width: 767px) {
    #camera-scan-modal {
        /* 不覆盖底部导航区域 */
        bottom: 70px !important;
        padding-bottom: 0 !important;
        z-index: 40 !important; /* 低于底部导航的z-index: 100 */
    }
    
    /* 移动端摄像头预览更大 */
    #camera-scan-modal .max-w-sm {
        max-width: 100% !important;
        border-radius: 0 !important;
    }
    
    #camera-scan-modal #camera-preview video {
        border-radius: 0 !important;
    }
}

/* ============================================
   快速入库弹窗优化
   ============================================ */
@media (max-width: 767px) {
    /* 快速入库弹窗 - 居中显示，避开底部导航 */
    #quick-inbound-modal {
        align-items: center !important;
        z-index: 200 !important;
        padding: 16px;
        padding-bottom: 80px; /* 避开底部导航 */
    }
    
    #quick-inbound-modal > div {
        width: 100% !important;
        max-width: 100% !important;
        max-height: calc(100vh - 120px);
        margin: 0 !important;
        border-radius: 16px !important;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    /* 快速入库弹窗内容区域 */
    #quick-inbound-modal > div > .p-4:last-child {
        padding-bottom: 16px !important;
    }
    
    /* 确保按钮区域可见 */
    #quick-inbound-modal .flex.space-x-3 {
        flex-wrap: nowrap !important;
        overflow: visible !important;
    }
    
    #quick-inbound-modal .flex.space-x-3 button {
        flex: 1;
        min-width: auto;
    }
    
    #quick-inbound-modal .flex.space-x-3 button span {
        display: inline !important;
    }
}

/* ============================================
   搜索框移动端优化
   ============================================ */

/* 默认隐藏移动端搜索元素 */
#mobile-search-btn {
    display: none !important;
}

#mobile-search-overlay {
    display: none !important;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: white;
    z-index: 200;
    padding: 16px;
}

/* 移动端显示搜索按钮和覆盖层 */
@media (max-width: 767px) {
    #mobile-search-btn {
        display: flex !important;
    }

    #mobile-search-overlay.active {
        display: block !important;
    }

    #mobile-search-overlay input {
        width: 100%;
        padding: 12px 16px;
        font-size: 16px;
        border: 1px solid #E5E5EA;
        border-radius: 12px;
    }
}

/* ============================================
   仓库卡片移动端优化
   ============================================ */
@media (max-width: 767px) {
    #warehouse-grid {
        grid-template-columns: 1fr !important;
    }

    /* 供应商卡片 */
    #supplier-grid {
        grid-template-columns: 1fr !important;
    }
}

/* ============================================
   通知和用户菜单移动端优化
   ============================================ */
@media (max-width: 767px) {
    #notification-dropdown,
    #user-dropdown {
        position: fixed !important;
        left: 8px !important;
        right: 8px !important;
        width: auto !important;
        max-height: 70vh;
    }

    #notification-dropdown {
        top: 60px !important;
    }

    #user-dropdown {
        top: 60px !important;
    }
}

/* ============================================
   物品详情移动端优化
   ============================================ */
@media (max-width: 767px) {
    /* 物品图片 */
    .item-image-container {
        width: 100% !important;
        height: 200px !important;
    }

    /* 物品信息网格 */
    .item-info-grid {
        grid-template-columns: 1fr !important;
    }
}

/* ============================================
   报表页面移动端优化
   ============================================ */
@media (max-width: 767px) {
    #reports-page .grid {
        grid-template-columns: 1fr !important;
    }
}

/* ============================================
   设置页面移动端优化
   ============================================ */
@media (max-width: 767px) {
    #settings-page .grid {
        grid-template-columns: 1fr !important;
    }

    /* 设置项 */
    .settings-item {
        flex-direction: column;
        align-items: flex-start !important;
    }

    .settings-item > div:last-child {
        margin-top: 8px;
        width: 100%;
    }
}

/* ============================================
   触摸优化
   ============================================ */
@media (max-width: 767px) {
    /* 增大点击区域 */
    button,
    a,
    .nav-item {
        min-height: 44px;
        min-width: 44px;
    }

    /* 禁用hover效果（触摸设备） */
    @media (hover: none) {
        button:hover,
        a:hover {
            transform: none !important;
            box-shadow: none !important;
        }
    }
}

/* ============================================
   安全区域适配（iPhone X+）
   ============================================ */
@supports (padding: env(safe-area-inset-bottom)) {
    @media (max-width: 767px) {
        main.flex-1 {
            padding-bottom: calc(80px + env(safe-area-inset-bottom)) !important;
        }

        #mobile-bottom-nav {
            padding-bottom: calc(8px + env(safe-area-inset-bottom));
        }
    }
}

/* ============================================
   横屏模式优化
   ============================================ */
@media (max-width: 767px) and (orientation: landscape) {
    /* 横屏时减少垂直间距 */
    main.flex-1 {
        padding: 8px !important;
        padding-bottom: 60px !important;
    }

    /* 统计卡片4列 */
    .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 {
        grid-template-columns: repeat(4, 1fr) !important;
    }

    /* 底部导航缩小 */
    #mobile-bottom-nav {
        padding: 4px 0;
    }

    #mobile-bottom-nav .nav-item {
        font-size: 9px;
    }

    #mobile-bottom-nav .nav-item i {
        font-size: 16px;
    }
}
